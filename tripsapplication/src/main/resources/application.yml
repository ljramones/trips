spring:
  application:
    ui:
      title: Terran Republic Interstellar Plotting System (TRIPS)
  aop:
      proxy-target-class: true

  # spring datasource requirements
  datasource:
    hikari:
      minimum-idle: 0
      initialization-fail-timeout: -1
      connectionTimeout: 20000
      maximumPoolSize: 5
      poolName: HikariPoolTrips
    url: jdbc:h2:file:./data/tripsdb;DB_CLOSE_ON_EXIT=FALSE;DB_CLOSE_DELAY=-1
    driverClassName: org.h2.Driver
    username: sa
    password:

  jpa:
    databasePlatform: org.hibernate.dialect.H2Dialect
    show-sql: false
    hibernate:
      ddl-auto: update
    properties:
      hibernate:
        dialect: org.hibernate.dialect.H2Dialect
        # Batch insert optimization - groups INSERT statements
        jdbc:
          batch_size: 50
          batch_versioned_data: true
        # Reorder inserts/updates for better batching
        order_inserts: true
        order_updates: true
  sql:
    init:
      continue-on-error: true

app:
  title: Terran Republic Interstellar Plotting System (TRIPS)
  version: v0.8.0
  releaseDate: 10 December 2023
  contributors: LJ Mitchell, CE Gannon, R Boatright
  projectPage: https://github.com/ljramones/trips
  fileDirectory: files
  programdata: files/programdata/
  scriptDirectory: files/scriptfiles/
  ui:
    window:
      width: 1080
      height: 680
      controlPaneHeight: 80

# Orekit orbital mechanics library configuration
orekit:
  data:
    path: ${user.home}/orekit-data

# Problem report feature configuration
# For development/testing: set TRIPS_DROPBOX_TOKEN environment variable
# For release builds: use -Prelease profile which embeds token at build time
problemreport:
  enabled: true
  logTailLines: 500
  pendingReportMaxDays: 30
  dropbox:
    accessToken: ${TRIPS_DROPBOX_TOKEN:}
    uploadPath: /trips-problem-reports/
  crashfile:
    enabled: true
    maxAgeDays: 7

management:
  server:
    port: 9091
  endpoints:
    web:
      base-path: /actuator
      exposure:
        include: health,info,metrics,prometheus
  endpoint:
    health:
      show-details: always
  metrics:
    tags:
      application: ${spring.application.ui.title}


